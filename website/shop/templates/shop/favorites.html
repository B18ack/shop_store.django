{% extends 'base.html' %}

{% block title %}Wishlist{% endblock %}

{% block content %}
<div class="container py-4">
  <h2 class="text-center mb-5 display-6 fw-bold">
    <i class="fas fa-heart text-danger"></i> My wishlist
    <i class="fas fa-heart text-danger"></i>
  </h2>

  {% if favorites %}
    <div class="row g-5">
      {% for fav in favorites %}
      <div class="col-md-4 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="position-relative">
            {% if fav.product.preview %}
              <img src="{{ fav.product.preview.url }}" class="card-img-top" alt="{{ fav.product.title }}" width="290" height="250">
            {% else %}
              <img src="https://avatars.mds.yandex.net/i?id=4dddfe8b2d75b26be4b5ce0958e1dba6_l-4054461-images-thumbs&n=13" class="card-img-top" alt="No image" width="290" height="250">
            {% endif %}
          </div>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-truncate" title="{{ fav.product.title }}">
              {{ fav.product.title }}
            </h5>

            <div class="mt-auto d-flex justify-content-between gap-2">
              <a href="{% url 'product_detail' fav.product.slug %}" class="btn btn-outline-primary w-100">
                <i class="fas fa-eye"></i> More
              </a>
              <a href="{% url 'remove_from_favorites' fav.product.id %}"
                class="btn btn-outline-danger d-flex align-items-center justify-content-center"
                title="Remove from wishlist"
                style="width: 40px;">
                <i class="fas fa-times"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center mt-5">You don't have any favorite products yet..</p>
  {% endif %}

</div>
{% endblock %}